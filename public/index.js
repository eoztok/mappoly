(()=>{"use strict";var e={};let t;(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var o,n,l,a,i=[],r=["#1E90FF","#FF1493","#32CD32","#FF8C00","#4B0082"],g={};function s(){a&&(a.setEditable(!1),a=null)}function d(e){"marker"!==e.type&&(s(),e.setEditable(!0),m(e.get("fillColor")||e.get("strokeColor"))),a=e,l=e}function p(){a&&a.setMap(null)}function m(e){for(var t=0;t<r.length;++t){var n=r[t];g[n].style.border=n==e?"2px solid #789":"2px solid #fff"}var l=o.get("polylineOptions");l.strokeColor=e,o.set("polylineOptions",l);var a=o.get("rectangleOptions");a.fillColor=e,o.set("rectangleOptions",a);var i=o.get("circleOptions");i.fillColor=e,o.set("circleOptions",i);var s=o.get("polygonOptions");s.fillColor=e,o.set("polygonOptions",s)}function c(e){var t=document.createElement("span");return t.className="color-button",t.style.backgroundColor=e,google.maps.event.addDomListener(t,"click",(function(){m(e),function(e){a&&(a.type==google.maps.drawing.OverlayType.POLYLINE?a.set("strokeColor",e):a.set("fillColor",e))}(e)})),t}function u(e="create"){"create"===e?document.getElementById("submitButton").innerHTML="Start Drawing":"edit"===e&&(document.getElementById("submitButton").innerHTML="Save")}function v(e){e.map((e=>{}))}google.maps.event.addDomListener(window,"load",(function(){console.log("Init"),document.getElementById("submitButton").addEventListener("click",(e=>{console.log("submitButton"),a||l||(o.setMap(t),o.setDrawingMode(google.maps.drawing.OverlayType.POLYGON),u("create"))})),document.getElementById("resetButton").addEventListener("click",(e=>{console.log("resetButton"),a&&(a.setMap(null),a=null),l&&(l.setMap(null),l=null),o.setMap(null),u("create")})),t=new google.maps.Map(document.getElementById("map"),{zoom:6,center:new google.maps.LatLng(34.703214,39.26412412),mapTypeId:google.maps.MapTypeId.HYBRID,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}});var e={strokeWeight:0,fillOpacity:.45,editable:!0,draggable:!0};if(o=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,markerOptions:{draggable:!0},polylineOptions:{editable:!0,draggable:!0},rectangleOptions:e,circleOptions:e,polygonOptions:e,map:t}),google.maps.event.addListener(o,"overlaycomplete",(function(e){var t=e.overlay;google.maps.event.addListener(t,"dragend",(e=>{v(t.latLngs.i[0].i)}));var n=t.getPath();google.maps.event.addListener(n,"insert_at",(e=>{v(t.latLngs.i[0].i)})),google.maps.event.addListener(n,"set_at",(e=>{v(t.latLngs.i[0].i)})),t.type=e.type,e.type===google.maps.drawing.OverlayType.POLYGON&&(o.setDrawingMode(null),google.maps.event.addListener(t,"click",(function(e){var o;void 0!==e.vertex&&(t.type===google.maps.drawing.OverlayType.POLYGON&&((o=t.getPaths().getAt(e.path)).removeAt(e.vertex),o.length<3&&t.setMap(null)),t.type===google.maps.drawing.OverlayType.POLYLINE&&((o=t.getPath()).removeAt(e.vertex),o.length<2&&t.setMap(null)));d(t)})),d(t)),t&&(v(t.latLngs.i[0].i),u("edit"),o.setMap(null))})),o.setMap(null),google.maps.event.addListener(o,"drawingmode_changed",s),google.maps.event.addListener(t,"click",s),google.maps.event.addDomListener(document.getElementById("deleteButton"),"click",p),function(){for(var e=document.getElementById("color-palette"),t=0;t<r.length;++t){var o=r[t],n=c(o);e.appendChild(n),g[o]=n}m(r[0])}(),i.length>0){var y=i.map((e=>({lat:e[0],lng:e[1]})));(n=new google.maps.Polygon({paths:y,strokeColor:r[0],strokeWeight:0,fillColor:r[0],fillOpacity:.45,editable:!0,draggable:!0})).setMap(t),s(),google.maps.event.addListener(n,"click",(function(e){d(l)})),google.maps.event.addListener(n,"dragend",(e=>{v(n.latLngs.i[0].i)}));var O=n.getPath();google.maps.event.addListener(O,"insert_at",(e=>{v(n.latLngs.i[0].i)})),google.maps.event.addListener(O,"set_at",(e=>{v(n.latLngs.i[0].i)})),l=n,u("edit")}}));var y=window;for(var O in e)y[O]=e[O];e.__esModule&&Object.defineProperty(y,"__esModule",{value:!0})})();